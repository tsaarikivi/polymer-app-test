<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/paper-fab-speed-dial/paper-fab-speed-dial.html">
<link rel="import" href="../bower_components/paper-fab-speed-dial/paper-fab-speed-dial-action.html">
<link rel="import" href="my-timetable.html">
<link rel="import" href="my-dial.html">

<dom-module id="my-view3">
  <template>
    <style>
       :host {
        position: relative;
      }
    </style>

    <my-timetable selected-item="[[selectedItem]]" items="[[items]]" on-item-selected="setSelectedItem"></my-timetable>
    <my-dial selected-item="[[selectedItem]]" on-click-add="handleAdd" on-click-edit="handleEdit" on-click-move="handleMove"
      on-click-cancel="handleCancel">
    </my-dial>
  </template>

  <script>
    class MyView3 extends Polymer.Element {
      static get is() { return 'my-view3'; }

      static get properties() {
        return {
          selectedItem: {
            type: Object
          },
          items: {
            type: Array,
            value: [
              [
                { startTime: 10293809284, endTime: 10293809285, tableNumber: 1, description: 'Olli and Tero', fromEntityData: { imageURL: 'https://png.icons8.com/people/ultraviolet/100', title: 'Ultra Violet' }, toEntityData: { title: 'SKAIP!', imageURL: 'https://lh3.googleusercontent.com/QfAEt_ya6-n8w_TD9-PsghFC2DMSO7fLGNZB4cQ3RtbBbHFkXJE_gxOc3l32-j6LXg=w300' } },
                { startTime: 10293809286, endTime: 10293809287, tableNumber: 1, description: 'Olli and Tero' },
                { startTime: 10293809288, endTime: 10293809289, tableNumber: 1, description: 'Free', free: true },
                { startTime: 10293809290, endTime: 10293809291, tableNumber: 1, description: 'Free', free: true },
              ],
              [
                { startTime: 10293809292, endTime: 10293809293, tableNumber: 1, description: 'Olli and Tero' },
                { startTime: 10293809294, endTime: 10293809295, tableNumber: 1, description: 'Free', free: true },
                { startTime: 10293809296, endTime: 10293809297, tableNumber: 1, description: 'Free', free: true },
              ]
            ]
          }
        }
      }

      setSelectedItem(e) {
        this.set('selectedItem', e.detail)
      }

      handleAdd() {
        console.log('Added', this.selectedItem)
      }

      handleEdit() {
        console.log('Edited', this.selectedItem)
      }

      handleMove() {
        console.log('Moved', this.selectedItem)
      }

      handleCancel() {
        console.log('Canceled', this.selectedItem)
      }
    }

    window.customElements.define(MyView3.is, MyView3);
  </script>
</dom-module>